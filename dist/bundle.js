/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/actor.ts":
/*!**********************!*\
  !*** ./src/actor.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.moves = void 0;\nconst db = __importStar(__webpack_require__(/*! ./db */ \"./src/db.ts\"));\nconst b = __importStar(__webpack_require__(/*! ./board */ \"./src/board.ts\"));\nconst disp = __importStar(__webpack_require__(/*! ./displace */ \"./src/displace.ts\"));\nfunction moves({ board, piece, pos }) {\n    let situationBefore = db.situations.get({\n        board,\n        turn: piece.color\n    });\n    let displaces = disp.get(piece, pos);\n    let res = [];\n    for (let to of displaces) {\n        let b1 = board, b3 = b.move(b1, pos, to);\n        if (b3) {\n            let m = {\n                piece,\n                situationBefore,\n                after: b3,\n                orig: pos,\n                dest: to,\n                enpassant: false\n            };\n            res.push(m);\n        }\n    }\n    // });\n    // let routes = db.routes.queryz(dirs, pos);\n    // let moves = db.moves.queryz(routes, board);\n    // piece -> directions\n    // directions - pos -> routes\n    // routes - board -> moves\n    return res;\n}\nexports.moves = moves;\n\n\n//# sourceURL=webpack://cchheess/./src/actor.ts?");

/***/ }),

/***/ "./src/board.ts":
/*!**********************!*\
  !*** ./src/board.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fen = exports.move = void 0;\nconst p = __importStar(__webpack_require__(/*! ./pos */ \"./src/pos.ts\"));\nconst pi = __importStar(__webpack_require__(/*! ./piece */ \"./src/piece.ts\"));\nconst db = __importStar(__webpack_require__(/*! ./db */ \"./src/db.ts\"));\nconst db2 = __importStar(__webpack_require__(/*! ./db2 */ \"./src/db2.ts\"));\nconst sz = __importStar(__webpack_require__(/*! ./sanitizes */ \"./src/sanitizes.ts\"));\nconst u = __importStar(__webpack_require__(/*! ./util */ \"./src/util.ts\"));\nexports.move = sz.sanitizedU(db.boards, u.seqable(_move));\nfunction fen(board) {\n    let res = [];\n    for (let rank of p.directions.slice(0).reverse()) {\n        let rankS = '';\n        let space = 0;\n        for (let file of p.directions) {\n            let piece = board.get(db2.poss.pget(file, rank));\n            if (piece) {\n                if (space !== 0) {\n                    rankS += space;\n                    space = 0;\n                }\n                rankS += pi.toFenStr(piece);\n            }\n            else {\n                space++;\n            }\n        }\n        if (space !== 0) {\n            rankS += space;\n        }\n        res.push(rankS);\n    }\n    return res.join('/');\n}\nexports.fen = fen;\nfunction _move(board, pos, to) {\n    let { actors } = db;\n    if (!board.has(to)) {\n        let p = board.get(pos);\n        if (p) {\n            let b2 = new Map([...board]);\n            b2.delete(pos);\n            b2.set(to, p);\n            for (let [pos, piece] of b2.entries()) {\n                actors.get({ pos,\n                    piece,\n                    board: b2 });\n            }\n            ;\n            return b2;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cchheess/./src/board.ts?");

/***/ }),

/***/ "./src/calculates.ts":
/*!***************************!*\
  !*** ./src/calculates.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Calculates = void 0;\nconst isequal_1 = __webpack_require__(/*! ./isequal */ \"./src/isequal.ts\");\nconst sz = __importStar(__webpack_require__(/*! ./sanitizes */ \"./src/sanitizes.ts\"));\nclass Calculates {\n    constructor(fa) {\n        this.fa = fa;\n        this.vs = new sz.Sanitizes();\n    }\n    querz(os, q) {\n        return os.map(o => {\n            let res = this.vs.query([o, \"*\"]);\n            if (res.length === 0) {\n                return this.vs.get([o, this.fa(o)]);\n            }\n            else\n                return res[0];\n        }).filter(ov => {\n            return isequal_1.mapmatch(ov[1], q);\n        });\n    }\n}\nexports.Calculates = Calculates;\n\n\n//# sourceURL=webpack://cchheess/./src/calculates.ts?");

/***/ }),

/***/ "./src/db.ts":
/*!*******************!*\
  !*** ./src/db.ts ***!
  \*******************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.actors = exports.histories = exports.moves = exports.situations = exports.lines = exports.boards = void 0;\nconst sz = __importStar(__webpack_require__(/*! ./sanitizes */ \"./src/sanitizes.ts\"));\nexports.boards = new sz.Sanitizes();\nexports.lines = new sz.Sanitizes();\nexports.situations = new sz.Sanitizes();\nexports.moves = new sz.Sanitizes();\nexports.histories = new sz.Sanitizes();\n/**** types 2 ****/\nexports.actors = new sz.Sanitizes();\n\n\n//# sourceURL=webpack://cchheess/./src/db.ts?");

/***/ }),

/***/ "./src/db2.ts":
/*!********************!*\
  !*** ./src/db2.ts ***!
  \********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.situationAfters = exports.actorMoves = exports.poss = exports.pieces = void 0;\nconst sz = __importStar(__webpack_require__(/*! ./sanitizes */ \"./src/sanitizes.ts\"));\nconst cz = __importStar(__webpack_require__(/*! ./calculates */ \"./src/calculates.ts\"));\nconst m = __importStar(__webpack_require__(/*! ./move */ \"./src/move.ts\"));\nconst a = __importStar(__webpack_require__(/*! ./actor */ \"./src/actor.ts\"));\nconst p = __importStar(__webpack_require__(/*! ./pos */ \"./src/pos.ts\"));\nconst r = __importStar(__webpack_require__(/*! ./role */ \"./src/role.ts\"));\nexports.pieces = new sz.SanitizedSpace2((color, role) => ({ color, role }), r.mColor, r.mRole);\nexports.poss = new sz.SanitizedSpace2((f, r) => [f, r], p.mDirection, p.mDirection);\nexports.actorMoves = new cz.Calculates(a.moves);\nexports.situationAfters = new cz.Calculates(m.situationAfter);\n// export const routes = new cz.Calculates<ct.Direction, Array<ct.Route>>(d.routes);\n// export const moves = new cz.Calculates<ct.Route, Array<ct.Move>>(route.moves);\n\n\n//# sourceURL=webpack://cchheess/./src/db2.ts?");

/***/ }),

/***/ "./src/direction.ts":
/*!**************************!*\
  !*** ./src/direction.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.rroute1 = exports.rroute2 = exports.rrouteflat1 = exports.rroute0 = exports.isRoute0 = exports.isRoute1 = exports.ddir2 = exports.ddir1 = exports.ddir0 = void 0;\nconst p = __importStar(__webpack_require__(/*! ./pos */ \"./src/pos.ts\"));\nconst db2 = __importStar(__webpack_require__(/*! ./db2 */ \"./src/db2.ts\"));\nfunction ddir0(_d0, d) {\n    let _res = (_d0 + d);\n    if (p.isDirection(_res)) {\n        return _res;\n    }\n}\nexports.ddir0 = ddir0;\nfunction ddir1(_d1, p) {\n    return db2.poss.mget(ddir0(_d1[0], p[0]), ddir0(_d1[1], p[1]));\n}\nexports.ddir1 = ddir1;\nfunction ddir2(_d2, p) {\n    let res = new Set();\n    _d2.forEach(_ => {\n        let _res = ddir1(_, p);\n        if (_res) {\n            res.add(_res);\n        }\n    });\n    return res;\n}\nexports.ddir2 = ddir2;\nfunction isRoute1(_) {\n    if (Array.isArray(_)) {\n        return _.every(isRoute0);\n    }\n    else {\n        return false;\n    }\n}\nexports.isRoute1 = isRoute1;\nfunction isRoute0(_) {\n    if (Array.isArray(_)) {\n        if (_.length >= 1 && _.length <= 8) {\n            return !Array.isArray(_[0]);\n        }\n    }\n    return false;\n}\nexports.isRoute0 = isRoute0;\nfunction rroute0(_d0, dir) {\n    let res = [dir];\n    let ndir = dir;\n    if (_d0 === 0) {\n        return res;\n    }\n    while (true) {\n        let _mndir = ddir0(_d0, ndir);\n        if (_mndir) {\n            ndir = _mndir;\n            res.push(ndir);\n        }\n        else {\n            break;\n        }\n    }\n    return res;\n}\nexports.rroute0 = rroute0;\nfunction rrouteflat1(_d2, pos) {\n    return new Set(rroute2(_d2, pos).flatMap(r1 => {\n        if (r1[1]) {\n            return [r1[1]];\n        }\n        else {\n            return [];\n        }\n    }));\n}\nexports.rrouteflat1 = rrouteflat1;\nfunction rroute2(_d2, pos) {\n    let res = [];\n    for (let _d1 of _d2) {\n        res.push(rroute1(_d1, pos));\n    }\n    return res;\n}\nexports.rroute2 = rroute2;\nfunction rroute1(_d1, pos) {\n    let f0 = rroute0(_d1[0], pos[0]), f1 = rroute0(_d1[1], pos[1]);\n    let res = [db2.poss.pget(f0[0], f1[0])];\n    let oneWraps = Math.min((_d1[0] === 0 ? f1.length : f0.length), (_d1[1] === 0 ? f0.length : f1.length));\n    for (let i = 1; i < oneWraps; i++) {\n        if (res) {\n            res.push(db2.poss.pget(f0[f0.length === 1 ? 0 : i], f1[f1.length === 1 ? 0 : i]));\n        }\n    }\n    return res;\n}\nexports.rroute1 = rroute1;\n\n\n//# sourceURL=webpack://cchheess/./src/direction.ts?");

/***/ }),

/***/ "./src/displace.ts":
/*!*************************!*\
  !*** ./src/displace.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.get = void 0;\nconst sss = __importStar(__webpack_require__(/*! ./sss */ \"./src/sss.ts\"));\nconst dir = __importStar(__webpack_require__(/*! ./direction */ \"./src/direction.ts\"));\nconst dt = __importStar(__webpack_require__(/*! ./dtypes */ \"./src/dtypes.ts\"));\nlet regulars = {\n    'n': dt.DKnight,\n    'r': dt.DRook,\n    'b': dt.DBishop,\n    'q': dt.DQueen,\n    'k': dt.DKing\n};\nconst pawnMove2 = {\n    'w': sss.union(dt.DWPawn2, dt.DWPawn),\n    'b': sss.union(dt.DBPawn2, dt.DBPawn)\n};\nconst pawnMove = {\n    'w': dt.DWPawn,\n    'b': dt.DBPawn\n};\nconst pawn2MoveRanks = {\n    'w': 2,\n    'b': 7\n};\nfunction dType(piece, pos) {\n    if (piece.role === 'p') {\n        let p2Rank = pawn2MoveRanks[piece.color];\n        if (pos[1] === p2Rank) {\n            return pawnMove2[piece.color];\n        }\n        else {\n            return pawnMove[piece.color];\n        }\n    }\n    else {\n        return regulars[piece.role];\n    }\n}\nfunction get(piece, pos) {\n    return dir.rrouteflat1(dType(piece, pos), pos);\n}\nexports.get = get;\n\n\n//# sourceURL=webpack://cchheess/./src/displace.ts?");

/***/ }),

/***/ "./src/dtypes.ts":
/*!***********************!*\
  !*** ./src/dtypes.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DBPawnC = exports.DWPawnC = exports.DBPawn = exports.DWPawn = exports.DBPawn2 = exports.DWPawn2 = exports.DKing = exports.DQueen = exports.DBishop = exports.DRook = exports.DKnight = void 0;\nconst sss = __importStar(__webpack_require__(/*! ./sss */ \"./src/sss.ts\"));\nexports.DKnight = new Set([[-1, 2], [-1, -2],\n    [1, 2], [1, -2],\n    [2, 1], [2, -1],\n    [-2, 1], [-2, -1]]);\nexports.DRook = new Set([[-1, 0], [1, 0], [0, -1], [0, 1]]);\nexports.DBishop = new Set([[-1, 1], [-1, -1], [1, 1], [1, -1]]);\nexports.DQueen = sss.union(exports.DRook, exports.DBishop);\nexports.DKing = exports.DQueen;\nexports.DWPawn2 = new Set([[0, 2]]);\nexports.DBPawn2 = new Set([[0, -2]]);\nexports.DWPawn = new Set([[0, 1]]);\nexports.DBPawn = new Set([[0, -1]]);\nexports.DWPawnC = new Set([[1, 1], [-1, 1]]);\nexports.DBPawnC = new Set([[1, -1], [-1, -1]]);\n\n\n//# sourceURL=webpack://cchheess/./src/dtypes.ts?");

/***/ }),

/***/ "./src/fen.ts":
/*!********************!*\
  !*** ./src/fen.ts ***!
  \********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.space = exports.situation = exports.fen = void 0;\nconst b = __importStar(__webpack_require__(/*! ./board */ \"./src/board.ts\"));\nconst db2 = __importStar(__webpack_require__(/*! ./db2 */ \"./src/db2.ts\"));\nconst db = __importStar(__webpack_require__(/*! ./db */ \"./src/db.ts\"));\nconst sz = __importStar(__webpack_require__(/*! ./sanitizes */ \"./src/sanitizes.ts\"));\n;\nlet { pieces, poss } = db2;\nlet { actors, boards } = db;\nfunction fen(situation) {\n    let color = situation.turn;\n    let rest = \"KQkq - 0 1\";\n    return `${b.fen(situation.board)} ${color} ${rest}`;\n}\nexports.fen = fen;\nexports.situation = sz.sanitized(db.situations, _situation);\nfunction _situation(fen) {\n    let _pieces = new Map();\n    let [ranksS, colorS] = fen.split(' ');\n    if (!ranksS || !colorS) {\n        return;\n    }\n    if (colorS !== \"w\" && colorS !== \"b\") {\n        return;\n    }\n    let ranks = ranksS.split('/');\n    if (ranks.length !== 8) {\n        return;\n    }\n    for (let i = 0; i < ranks.length; i++) {\n        let rank = 8 - i;\n        let file = 1;\n        for (let j = 0; j < ranks[i].length; j++) {\n            let c = ranks[i][j];\n            let piece = pieces.nget(c, c);\n            if (piece) {\n                let pos = poss.nget(file, rank);\n                if (pos && piece) {\n                    _pieces.set(pos, piece);\n                }\n                file += 1;\n            }\n            else {\n                let _s = space(c);\n                if (_s) {\n                    file += _s;\n                }\n            }\n        }\n    }\n    let board = boards.get(_pieces);\n    for (let [pos, piece] of _pieces.entries()) {\n        actors.get({ pos,\n            piece,\n            board });\n    }\n    ;\n    return {\n        board,\n        turn: colorS\n    };\n}\nfunction space(c) {\n    if (c.match(/[1-8]/)) {\n        return parseInt(c);\n    }\n}\nexports.space = space;\n\n\n//# sourceURL=webpack://cchheess/./src/fen.ts?");

/***/ }),

/***/ "./src/history.ts":
/*!************************!*\
  !*** ./src/history.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.add = exports.first = void 0;\nconst db_1 = __webpack_require__(/*! ./db */ \"./src/db.ts\");\nconst m = __importStar(__webpack_require__(/*! ./move */ \"./src/move.ts\"));\nconst db = __importStar(__webpack_require__(/*! ./db */ \"./src/db.ts\"));\nconst u = __importStar(__webpack_require__(/*! ./util */ \"./src/util.ts\"));\nconst sz = __importStar(__webpack_require__(/*! ./sanitizes */ \"./src/sanitizes.ts\"));\nfunction first(position, sanMeta) {\n    let move = m.get(position, sanMeta);\n    if (move) {\n        return db_1.histories.get([move]);\n    }\n}\nexports.first = first;\nexports.add = sz.sanitizedU(db.histories, u.seqable(_add));\nfunction _add(history, sanMeta) {\n    let lastMove = history[history.length - 1];\n    let move = m.get(m.situationAfter(lastMove), sanMeta);\n    if (move) {\n        return db_1.histories.get([\n            ...history,\n            move\n        ]);\n    }\n}\n\n\n//# sourceURL=webpack://cchheess/./src/history.ts?");

/***/ }),

/***/ "./src/isequal.ts":
/*!************************!*\
  !*** ./src/isequal.ts ***!
  \************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.objPEqual = exports.refPEqual2 = exports.objEqual = exports.mapEqual = exports.refEqual2 = exports.refEqual = exports.isEqualAny = exports.match = exports.mapmatch = void 0;\nfunction mapmatch(a, m) {\n    if (m === '*') {\n        return true;\n    }\n    else if (Array.isArray(a) && Array.isArray(m)) {\n        return exports.refPEqual2(a, m);\n    }\n    else {\n        return exports.objPEqual(a, m);\n    }\n}\nexports.mapmatch = mapmatch;\nfunction match(a, m) {\n    if (m === \"*\") {\n        return true;\n    }\n    else if (Array.isArray(m)) {\n        return m.includes(a);\n    }\n    else {\n        return a === m;\n    }\n}\nexports.match = match;\nconst isEqualAny = (a, b) => {\n    if (a === b)\n        return true;\n    if (Array.isArray(a) && Array.isArray(b))\n        return exports.refEqual2(a, b);\n    if (a instanceof Map && b instanceof Map)\n        return exports.mapEqual(a, b);\n    else {\n        return exports.objEqual(a, b);\n    }\n};\nexports.isEqualAny = isEqualAny;\nconst refEqual = (a, b) => a === b;\nexports.refEqual = refEqual;\nconst refEqual2 = (a, b) => {\n    if (a.length === b.length) {\n        for (let key in a) {\n            if (a[key] !== b[key]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n};\nexports.refEqual2 = refEqual2;\nconst mapEqual = (a, b) => {\n    if (a.size !== b.size) {\n        return false;\n    }\n    for (var [key, _a] of a) {\n        let _b = b.get(key);\n        if (_a !== _b || (_b === undefined && !a.has(key))) {\n            return false;\n        }\n    }\n    return true;\n};\nexports.mapEqual = mapEqual;\nconst objEqual = (a, b) => {\n    if (typeof a === 'object' && typeof b === 'object') {\n        if (Object.keys(a).length !== Object.keys(b).length) {\n            return false;\n        }\n        for (let key in a) {\n            if (a[key] !== b[key]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n};\nexports.objEqual = objEqual;\nconst refPEqual2 = (a, b) => {\n    for (let key in b) {\n        if (!match(a[key], b[key])) {\n            return false;\n        }\n    }\n    return true;\n};\nexports.refPEqual2 = refPEqual2;\nconst objPEqual = (a, b) => {\n    if (typeof a === 'object' && typeof b === 'object') {\n        for (let key in b) {\n            if (!match(a[key], b[key])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    else {\n        return false;\n    }\n};\nexports.objPEqual = objPEqual;\n\n\n//# sourceURL=webpack://cchheess/./src/isequal.ts?");

/***/ }),

/***/ "./src/line.ts":
/*!*********************!*\
  !*** ./src/line.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.aply = exports.ply = exports.fen = exports.isLineError = exports.LineError = void 0;\nconst ct = __importStar(__webpack_require__(/*! ./types */ \"./src/types.ts\"));\nconst makes_1 = __webpack_require__(/*! ./makes */ \"./src/makes.ts\");\nconst f = __importStar(__webpack_require__(/*! ./fen */ \"./src/fen.ts\"));\nconst sanApi = __importStar(__webpack_require__(/*! ./san */ \"./src/san.ts\"));\nconst hApi = __importStar(__webpack_require__(/*! ./history */ \"./src/history.ts\"));\nconst db = __importStar(__webpack_require__(/*! ./db */ \"./src/db.ts\"));\nfunction fenLineFirstPly(parent, sanMeta) {\n    let _h1 = hApi.first(parent, sanMeta);\n    if (_h1) {\n        return db.lines.get({\n            parent,\n            history: _h1\n        });\n    }\n    else {\n        return LineError.CantMakeMove;\n    }\n}\nfunction moveLineNewPly({ parent, history }, ply, sanMeta) {\n    if (history.length < ply - 1) {\n        return LineError.NoMoveFound;\n    }\n    else if (history.length > ply - 1) {\n        return LineError.AlreadySet;\n    }\n    else {\n        let _h2 = hApi.add(history, sanMeta);\n        if (_h2) {\n            return db.lines.get({\n                parent,\n                history: _h2\n            });\n        }\n        else {\n            return LineError.CantMakeMove;\n        }\n    }\n}\nvar LineError;\n(function (LineError) {\n    LineError[\"AlreadySet\"] = \"Already Set\";\n    LineError[\"InvalidInput\"] = \"Invalid Input\";\n    LineError[\"NoMoveFound\"] = \"No Move Found\";\n    LineError[\"CantMakeMove\"] = \"Cant Make Move\";\n})(LineError = exports.LineError || (exports.LineError = {}));\nfunction isLineError(_) {\n    return Object.values(LineError).includes(_);\n}\nexports.isLineError = isLineError;\nfunction _fen(fen) {\n    let sit = f.situation(fen);\n    if (sit) {\n        return sit;\n    }\n    else {\n        return LineError.InvalidInput;\n    }\n}\nfunction _ply(line, ply) {\n    if (ply === 0) {\n        if (ct.isFenLine(line)) {\n            return f.fen(line);\n        }\n    }\n    return LineError.NoMoveFound;\n}\nfunction _aply(line, ply, move) {\n    let _sanMeta = sanApi.str2meta(move);\n    if (_sanMeta) {\n        if (ply === 0) {\n            return LineError.AlreadySet;\n        }\n        else {\n            if (ct.isFenLine(line)) {\n                if (ply !== 1) {\n                    return LineError.NoMoveFound;\n                }\n                else {\n                    let res = fenLineFirstPly(line, _sanMeta);\n                    return res;\n                }\n            }\n            else {\n                if (ply >= 2) {\n                    return moveLineNewPly(line, ply, _sanMeta);\n                }\n                else {\n                    return LineError.AlreadySet;\n                }\n            }\n        }\n    }\n    else {\n        return LineError.InvalidInput;\n    }\n}\nlet _makes = new makes_1.Makes();\nexports.fen = _makes.setter0(_fen, isLineError);\nexports.ply = _makes.getter1(_ply);\nexports.aply = _makes.setter1(_aply, isLineError);\n\n\n//# sourceURL=webpack://cchheess/./src/line.ts?");

/***/ }),

/***/ "./src/makes.ts":
/*!**********************!*\
  !*** ./src/makes.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Makes = exports.MakesError = void 0;\nvar MakesError;\n(function (MakesError) {\n    MakesError[\"AlreadySet\"] = \"already set\";\n    MakesError[\"NotSet\"] = \"not set\";\n})(MakesError = exports.MakesError || (exports.MakesError = {}));\nclass Makes {\n    constructor() {\n        this.data = new Map();\n    }\n    setter0(f, isApiError) {\n        let data = this.data;\n        return function (key, arg1) {\n            let _res = data.get(key);\n            if (_res) {\n                return MakesError.AlreadySet;\n            }\n            else {\n                let fres = f(arg1);\n                if (isApiError(fres)) {\n                    return fres;\n                }\n                else {\n                    data.set(key, fres);\n                }\n            }\n        };\n    }\n    setter1(f, isApiError) {\n        let data = this.data;\n        return function (key, a1, a2) {\n            let _v = data.get(key);\n            if (_v) {\n                let _res = f(_v, a1, a2);\n                if (isApiError(_res)) {\n                    return _res;\n                }\n                else {\n                    data.set(key, _res);\n                }\n            }\n            else {\n                return MakesError.NotSet;\n            }\n        };\n    }\n    getter1(f) {\n        let data = this.data;\n        return function (key, a1) {\n            let _v = data.get(key);\n            if (_v) {\n                let _res = f(_v, a1);\n                return _res;\n            }\n            else {\n                return MakesError.NotSet;\n            }\n        };\n    }\n}\nexports.Makes = Makes;\n\n\n//# sourceURL=webpack://cchheess/./src/makes.ts?");

/***/ }),

/***/ "./src/move.ts":
/*!*********************!*\
  !*** ./src/move.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports._situationAfter = exports.situationAfter = exports.get = void 0;\nconst db = __importStar(__webpack_require__(/*! ./db */ \"./src/db.ts\"));\nconst db2 = __importStar(__webpack_require__(/*! ./db2 */ \"./src/db2.ts\"));\nconst sz = __importStar(__webpack_require__(/*! ./sanitizes */ \"./src/sanitizes.ts\"));\nconst r = __importStar(__webpack_require__(/*! ./role */ \"./src/role.ts\"));\nfunction get(before, sanMeta) {\n    let { poss, pieces, actorMoves } = db2;\n    let { actors } = db;\n    let _actors = actors.query({\n        pos: poss.query([sanMeta.file || \"*\", sanMeta.rank || \"*\"]),\n        piece: pieces.query({\n            role: sanMeta.role,\n            color: before.turn\n        }),\n        board: before.board\n    });\n    return actorMoves.querz(_actors, \"*\")\n        .flatMap(([actor, moves]) => {\n        let move = moves.find(move => move.dest === sanMeta.to);\n        if (move) {\n            return [move];\n        }\n        else {\n            return [];\n        }\n    })[0];\n}\nexports.get = get;\nexports.situationAfter = sz.sanitized(db.situations, _situationAfter);\nfunction _situationAfter(move) {\n    return {\n        board: move.after,\n        turn: r.otherColor(move.piece.color)\n    };\n}\nexports._situationAfter = _situationAfter;\n\n\n//# sourceURL=webpack://cchheess/./src/move.ts?");

/***/ }),

/***/ "./src/piece.ts":
/*!**********************!*\
  !*** ./src/piece.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.toFenStr = void 0;\nfunction toFenStr(piece) {\n    if (piece.color === 'w') {\n        return piece.role.toUpperCase();\n    }\n    return piece.role;\n}\nexports.toFenStr = toFenStr;\n\n\n//# sourceURL=webpack://cchheess/./src/piece.ts?");

/***/ }),

/***/ "./src/pos.ts":
/*!********************!*\
  !*** ./src/pos.ts ***!
  \********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.dopKey = exports.key = exports.rkey = exports.fkey = exports.mRankKey = exports.mFileKey = exports.mPosKey = exports.posKey2fKey = exports.posKey2rKey = exports.rByKey = exports.fByKey = exports.posKeys = exports.rankKeys = exports.fileKeys = exports.isPos = exports.mDirection = exports.isDirection = exports.directions = void 0;\nexports.directions = [1, 2, 3, 4, 5, 6, 7, 8];\nfunction isDirection(_) {\n    return !!mDirection(_);\n}\nexports.isDirection = isDirection;\nfunction mDirection(_) {\n    if (_ >= 1 && _ <= 8) {\n        return _;\n    }\n}\nexports.mDirection = mDirection;\nfunction isPos(_) {\n    if (Array.isArray(_)) {\n        if (_.length === 2) {\n            return _.map(isDirection).every(_ => !!_);\n        }\n    }\n    return false;\n}\nexports.isPos = isPos;\nexports.fileKeys = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];\nexports.rankKeys = ['1', '2', '3', '4', '5', '6', '7', '8'];\nexports.posKeys = [\n    'a1', 'a2', 'a3', 'a4', 'a5', 'a6', 'a7', 'a8',\n    'b1', 'b2', 'b3', 'b4', 'b5', 'b6', 'b7', 'b8',\n    'c1', 'c2', 'c3', 'c4', 'c5', 'c6', 'c7', 'c8',\n    'd1', 'd2', 'd3', 'd4', 'd5', 'd6', 'd7', 'd8',\n    'e1', 'e2', 'e3', 'e4', 'e5', 'e6', 'e7', 'e8',\n    'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'f7', 'f8',\n    'g1', 'g2', 'g3', 'g4', 'g5', 'g6', 'g7', 'g8',\n    'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'h7', 'h8'\n];\nconst fByKey = (_) => {\n    return exports.fileKeys.indexOf(_) + 1;\n};\nexports.fByKey = fByKey;\nconst rByKey = (_) => {\n    return exports.rankKeys.indexOf(_) + 1;\n};\nexports.rByKey = rByKey;\nconst posKey2rKey = (_) => {\n    return _[1];\n};\nexports.posKey2rKey = posKey2rKey;\nconst posKey2fKey = (_) => {\n    return _[0];\n};\nexports.posKey2fKey = posKey2fKey;\nconst mPosKey = (_) => {\n    if (exports.posKeys.includes(_)) {\n        let i = exports.posKeys.indexOf(_);\n        return exports.posKeys[i];\n    }\n};\nexports.mPosKey = mPosKey;\nfunction mFileKey(_) {\n    if (exports.fileKeys.includes(_)) {\n        let i = exports.fileKeys.indexOf(_);\n        return exports.fileKeys[i];\n    }\n}\nexports.mFileKey = mFileKey;\nfunction mRankKey(_) {\n    if (exports.rankKeys.includes(_)) {\n        let i = exports.rankKeys.indexOf(_);\n        return exports.rankKeys[i];\n    }\n}\nexports.mRankKey = mRankKey;\nfunction fkey(f) {\n    return exports.fileKeys[f - 1];\n}\nexports.fkey = fkey;\nfunction rkey(r) {\n    return exports.rankKeys[r - 1];\n}\nexports.rkey = rkey;\nfunction key(p) {\n    return (fkey(p[0]) + rkey(p[1]));\n}\nexports.key = key;\nfunction dopKey(_) {\n    if (isPos(_)) {\n        return key(_);\n    }\n    else if (isDirection(_)) {\n        return rkey(_);\n    }\n    else {\n        return 'dopX';\n    }\n}\nexports.dopKey = dopKey;\n\n\n//# sourceURL=webpack://cchheess/./src/pos.ts?");

/***/ }),

/***/ "./src/role.ts":
/*!*********************!*\
  !*** ./src/role.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.otherColor = exports.mColor = exports.mRole = exports.isRole = void 0;\nfunction isRole(_) {\n    return !mRole(_);\n}\nexports.isRole = isRole;\nlet roles = ['r', 'b', 'n', 'q', 'k', 'p'];\nfunction mRole(str) {\n    let _ = str.toLowerCase();\n    if (roles.includes(_)) {\n        return _;\n    }\n}\nexports.mRole = mRole;\nfunction mColor(str) {\n    let _ = str.toLowerCase();\n    if (roles.includes(_)) {\n        if (_ === str) {\n            return 'b';\n        }\n        else {\n            return 'w';\n        }\n    }\n}\nexports.mColor = mColor;\nfunction otherColor(color) {\n    return color === 'w' ? 'b' : 'w';\n}\nexports.otherColor = otherColor;\n\n\n//# sourceURL=webpack://cchheess/./src/role.ts?");

/***/ }),

/***/ "./src/san.ts":
/*!********************!*\
  !*** ./src/san.ts ***!
  \********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.san2san2 = exports.isSan2 = exports.san2meta = exports.sBool = exports.str2meta = void 0;\nconst p = __importStar(__webpack_require__(/*! ./pos */ \"./src/pos.ts\"));\nconst r = __importStar(__webpack_require__(/*! ./role */ \"./src/role.ts\"));\nconst db2 = __importStar(__webpack_require__(/*! ./db2 */ \"./src/db2.ts\"));\nlet { poss } = db2;\nfunction str2meta(str) {\n    if (!isSan2(str)) {\n        let str2 = san2san2(str);\n        if (str2) {\n            return san2meta(str2);\n        }\n    }\n    else {\n        return san2meta(str);\n    }\n}\nexports.str2meta = str2meta;\nfunction sBool(str) {\n    if (str === '') {\n        return false;\n    }\n    return true;\n}\nexports.sBool = sBool;\nfunction san2meta(san2) {\n    let res = san2.split(' ');\n    let [roleS, fileS, rankS, captureS, toS, promotionS, checkS, mateS] = res;\n    let mate = sBool(mateS), check = sBool(checkS), capture = sBool(captureS), mRankKey = p.mRankKey(rankS), mFileKey = p.mFileKey(fileS);\n    let rank = mRankKey ? p.rByKey(mRankKey) : undefined;\n    let file = mFileKey ? p.fByKey(mFileKey) : undefined;\n    let mrole = r.mRole(roleS), promotion = r.mRole(promotionS);\n    let mToKey = p.mPosKey(toS);\n    if (mToKey) {\n        let toFKey = p.posKey2fKey(mToKey), toRKey = p.posKey2rKey(mToKey), toF = p.fByKey(toFKey), toR = p.rByKey(toRKey), to = poss.pget(toF, toR);\n        if (to) {\n            return {\n                file,\n                rank,\n                check,\n                mate,\n                capture,\n                promotion,\n                to,\n                role: mrole ? mrole : 'p'\n            };\n        }\n    }\n}\nexports.san2meta = san2meta;\nfunction isSan2(str) {\n    let res = str.split(' ');\n    if (res.length === 8) {\n        let [role, file, rank, capture, to, promotion, check, mate] = res;\n        let RES = [/N|B|R|Q|K|/,\n            /[a-h]?/,\n            /([1-8]?)/,\n            /(x?)/,\n            /([a-h][0-9])/,\n            /(=?[NBRQ]?)/,\n            /(\\+?)/,\n            /(\\#?)/];\n        for (let key in RES) {\n            if (!res[key].match(RES[key])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nexports.isSan2 = isSan2;\nfunction san2san2(san) {\n    let RE = /(N|B|R|Q|K|)([a-h]?)([1-8]?)(x?)([a-h][0-9])(=?[NBRQ]?)(\\+?)(\\#?)/;\n    let m = san.match(RE);\n    if (m) {\n        let [_, role, file, rank, capture, to, promotion, check, mate] = m;\n        let res = [role, file, rank, capture, to, promotion, check, mate].join(' ');\n        return res;\n    }\n}\nexports.san2san2 = san2san2;\n\n\n//# sourceURL=webpack://cchheess/./src/san.ts?");

/***/ }),

/***/ "./src/sanitizes.ts":
/*!**************************!*\
  !*** ./src/sanitizes.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SanitizedSpace2 = exports.Sanitizes = exports.sanitizedU = exports.sanitized = exports.Sanitized = void 0;\nconst isequal_1 = __webpack_require__(/*! ./isequal */ \"./src/isequal.ts\");\nvar Sanitized;\n(function (Sanitized) {\n})(Sanitized = exports.Sanitized || (exports.Sanitized = {}));\nconst sanitized = (szer, cb) => (...args) => szer.get(cb(...args));\nexports.sanitized = sanitized;\nconst sanitizedU = (szer, cb) => (a, ...args) => {\n    let _a = cb(a, ...args);\n    if (_a) {\n        return szer.get(_a);\n    }\n};\nexports.sanitizedU = sanitizedU;\nclass Sanitizes {\n    constructor() {\n        this.world = [];\n    }\n    query(a) {\n        return this.world.filter(_ => {\n            return isequal_1.mapmatch(_, a);\n        });\n    }\n    get(a) {\n        let _a = this.world.find(_ => isequal_1.isEqualAny(a, _));\n        if (_a) {\n            return _a;\n        }\n        else {\n            this.world.push(a);\n            return a;\n        }\n    }\n}\nexports.Sanitizes = Sanitizes;\nclass SanitizedSpace2 {\n    constructor(make, mA, mB) {\n        this.make = make;\n        this.mA = mA;\n        this.mB = mB;\n        this.space = new Sanitizes();\n    }\n    query(mc) {\n        return this.space.query(mc);\n    }\n    get(c) {\n        return this.space.get(c);\n    }\n    pget(a, b) {\n        return this.space.get(this.make(a, b));\n    }\n    nget(sa, sb) {\n        return this.mget(this.mA(sa), this.mB(sb));\n    }\n    mget(ma, mb) {\n        if (ma && mb) {\n            return this.pget(ma, mb);\n        }\n    }\n}\nexports.SanitizedSpace2 = SanitizedSpace2;\n\n\n//# sourceURL=webpack://cchheess/./src/sanitizes.ts?");

/***/ }),

/***/ "./src/sss.ts":
/*!********************!*\
  !*** ./src/sss.ts ***!
  \********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.union = void 0;\nfunction union(setA, setB) {\n    let _union = new Set(setA);\n    for (let elem of setB) {\n        _union.add(elem);\n    }\n    return _union;\n}\nexports.union = union;\n\n\n//# sourceURL=webpack://cchheess/./src/sss.ts?");

/***/ }),

/***/ "./src/test/_util.ts":
/*!***************************!*\
  !*** ./src/test/_util.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst util2_1 = __webpack_require__(/*! ./util2 */ \"./src/test/util2.ts\");\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/test/util.ts\");\nconst sz = __importStar(__webpack_require__(/*! ../sanitizes */ \"./src/sanitizes.ts\"));\nconst isequal_1 = __webpack_require__(/*! ../isequal */ \"./src/isequal.ts\");\nfunction default_1() {\n    util_1.it('tests equality', () => {\n        util_1.nac('3 4', !isequal_1.isEqualAny(3, 4));\n        util_1.nac('p equal', isequal_1.mapmatch({\n            a: '1',\n            b: '2',\n            c: '3'\n        }, { a: '1', b: '*', c: '*' }));\n    });\n    util_1.it.only('sanitizes numbers', () => {\n        let dirs = new sz.Sanitizes();\n        util_1.nacc('san 3 3', dirs.get(3), dirs.get(3));\n        util_1.nac('san 3 4', dirs.get(3) !== dirs.get(4));\n    });\n    util_1.it('sanitizes arrays', () => {\n        let poss = new sz.Sanitizes();\n        let a = [3];\n        util_1.nac(`returns same type`, util2_1.deepeq(poss.get(a), [3]));\n        util_1.nac('san [3] [3]', poss.get([3]) === a);\n        util_1.nac('san [3] [4]', poss.get([4]) !== a);\n    });\n    util_1.it('sanitizes maps', () => {\n        let boards = new sz.Sanitizes();\n        let thr = [3], four = [4];\n        let exp = new Map();\n        exp.set(thr, \"three\");\n        let m = new Map();\n        m.set(thr, \"three\");\n        util_1.nac(`returns same type`, util2_1.deepeq(boards.get(m), exp));\n        m.set(four, \"four\");\n        exp.set(four, \"four\");\n        util_1.nac(`returns ref equal`, boards.get(exp) === m);\n    });\n    util_1.it('sanitizes objects', () => {\n        let boards = new sz.Sanitizes();\n        let a = {\n            role: 'b',\n            color: 'w'\n        };\n        let b = {\n            role: 'b',\n            color: 'w'\n        };\n        util_1.nac('ref equal', boards.get(a) === a);\n        util_1.nac('a b', boards.get(b) === a);\n    });\n    function key2pos(key) {\n        return {\n            file: key[0],\n            rank: key[1]\n        };\n    }\n    let poss = new sz.Sanitizes();\n    let boards = new sz.Sanitizes();\n    util_1.it('queries objects', () => {\n        ['a1', 'b1', 'c1', 'a2', 'a3'].forEach(_ => {\n            poss.get(key2pos(_));\n        });\n        let res = poss.query({\n            file: 'a',\n            rank: '*'\n        });\n        let afiles = ['a1', 'a2', 'a3'].map(key2pos);\n        util_1.nac('a file', util2_1.deepeq(res, afiles));\n    });\n    util_1.it(\"queries nested objects\", () => {\n        ['a1', 'b1', 'c1', 'a2', 'a3'].forEach(_ => {\n            let p = poss.get(key2pos(_));\n            let p2 = poss.get(key2pos(_));\n            boards.get({\n                p1: p,\n                p2\n            });\n        });\n        let res2 = boards.query({\n            p1: poss.query({\n                file: \"c\",\n                rank: \"*\"\n            }),\n            p2: \"*\"\n        });\n        console.log(res2);\n    });\n}\nexports.default = default_1;\n\n\n//# sourceURL=webpack://cchheess/./src/test/_util.ts?");

/***/ }),

/***/ "./src/test/actor.ts":
/*!***************************!*\
  !*** ./src/test/actor.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst util2_1 = __webpack_require__(/*! ./util2 */ \"./src/test/util2.ts\");\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/test/util.ts\");\nconst db2 = __importStar(__webpack_require__(/*! ../db2 */ \"./src/db2.ts\"));\nconst a = __importStar(__webpack_require__(/*! ../actor */ \"./src/actor.ts\"));\nconst f = __importStar(__webpack_require__(/*! ../fen */ \"./src/fen.ts\"));\nlet { poss, pieces } = db2;\nfunction default_1() {\n    let initialSituation = f.situation('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1');\n    let { board, turn } = initialSituation;\n    util_1.it('makes moves', () => {\n        let pos = poss.nget(2, 2);\n        let piece = pieces.nget('P', 'P');\n        let res = a.moves({\n            board,\n            piece,\n            pos\n        });\n        util_1.nac('moves', !util2_1.deepeq(res, []));\n    });\n}\nexports.default = default_1;\n\n\n//# sourceURL=webpack://cchheess/./src/test/actor.ts?");

/***/ }),

/***/ "./src/test/calcutes.ts":
/*!******************************!*\
  !*** ./src/test/calcutes.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/test/util.ts\");\nconst cz = __importStar(__webpack_require__(/*! ../calculates */ \"./src/calculates.ts\"));\nfunction default_1() {\n    const pkey = (str) => ({\n        file: str[0],\n        rank: str[1]\n    });\n    util_1.it('calculates lazy vals', () => {\n        let ci = 0;\n        let sums = new cz.Calculates(pos => {\n            ci++;\n            return {\n                fandr: pos.rank + pos.file\n            };\n        });\n        let poss = ['a1', 'a2', 'a3', 'b1', 'b2', 'b3', 'c5']\n            .map(pkey);\n        let res = sums.querz(poss, {\n            fandr: \"1a\"\n        });\n        util_1.nacc('called once', ci, poss.length);\n        sums.querz(poss, {\n            fandr: \"1a\"\n        });\n        util_1.nacc('called once', ci, poss.length);\n    });\n}\nexports.default = default_1;\n\n\n//# sourceURL=webpack://cchheess/./src/test/calcutes.ts?");

/***/ }),

/***/ "./src/test/core.ts":
/*!**************************!*\
  !*** ./src/test/core.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/test/util.ts\");\nconst util2_1 = __webpack_require__(/*! ./util2 */ \"./src/test/util2.ts\");\nconst f = __importStar(__webpack_require__(/*! ../fen */ \"./src/fen.ts\"));\nconst s = __importStar(__webpack_require__(/*! ../san */ \"./src/san.ts\"));\nconst db2 = __importStar(__webpack_require__(/*! ../db2 */ \"./src/db2.ts\"));\nlet { poss } = db2;\nfunction default_1() {\n    util_1.it('validates san', () => {\n        util_1.nac('Nf6', s.str2meta('Nf6'));\n        util_1.nac('e4', s.str2meta('e4'));\n    });\n    util_1.it('finds positions', () => {\n        util_1.nac('1 1', util2_1.deepeq(poss.nget(1, 1), [1, 1]));\n        util_1.nac('1 8', util2_1.deepeq(poss.nget(1, 8), [1, 8]));\n        util_1.nac('1 10', util2_1.deepeq(poss.nget(1, 10), undefined));\n    });\n    util_1.it('creates board', () => {\n        const situation = f.situation('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1');\n        if (!situation) {\n            return '! situation';\n        }\n        let { board } = situation;\n        util_1.nacc('32 pieces', board.size, 32);\n        util_1.qed('w p at 2 2', board.get(poss.nget(2, 2) || {}), { role: 'p', color: 'w' });\n    });\n    // console.log(s.san2meta('Nbe4+'));\n}\nexports.default = default_1;\n\n\n//# sourceURL=webpack://cchheess/./src/test/core.ts?");

/***/ }),

/***/ "./src/test/direction.ts":
/*!*******************************!*\
  !*** ./src/test/direction.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/test/util.ts\");\nconst util2_1 = __webpack_require__(/*! ./util2 */ \"./src/test/util2.ts\");\nconst dir = __importStar(__webpack_require__(/*! ../direction */ \"./src/direction.ts\"));\nconst dt = __importStar(__webpack_require__(/*! ../dtypes */ \"./src/dtypes.ts\"));\nconst p = __importStar(__webpack_require__(/*! ../pos */ \"./src/pos.ts\"));\nconst v = __importStar(__webpack_require__(/*! ../visual */ \"./src/visual.ts\"));\nconst db2 = __importStar(__webpack_require__(/*! ../db2 */ \"./src/db2.ts\"));\nfunction pos(f, r) {\n    let d = 1;\n    return db2.poss.pget(p.mDirection(f) || d, p.mDirection(r) || d);\n}\nfunction default_1() {\n    util_1.it('displaces on 0 direction', () => {\n        let t = [[-8, 1, undefined],\n            [-1, 1, undefined],\n            [8, 3, undefined],\n            [7, 1, 8],\n            [1, 3, 4]];\n        t.forEach(([di, d, res]) => {\n            let _d = dir.ddir0(di, d);\n            util_1.nacc(` ${di} ${d} != `, _d, res);\n        });\n    });\n    util_1.it('displaces on position', () => {\n        let t = [[[0, 0], pos(1, 1), pos(1, 1)],\n            [[1, 0], pos(1, 1), pos(2, 1)],\n            [[4, -3], pos(4, 4), pos(8, 1)],\n            [[-1, 0], pos(1, 1), undefined],\n            [[-5, 7], pos(1, 1), undefined]\n        ];\n        t.forEach(([d1, _p, res]) => {\n            let _d = dir.ddir1(d1, _p);\n            if (res && _d) {\n                util_1.nacc(`expected ${p.key(res)} got ${p.key(_d)}`, res, _d);\n            }\n            else if (!res && !_d) {\n            }\n            else if (!res && _d) {\n                util_1.cry(`expected undefined got ${p.key(_d)}`);\n            }\n            else if (!_d && res) {\n                util_1.cry(`expected ${p.key(res)} got undefined`);\n            }\n        });\n    });\n    util_1.it('displaces displace2', () => {\n        let t = [[dt.DKnight, pos(1, 1), new Set([\n                    pos(3, 2),\n                    pos(2, 3)\n                ])], [\n                dt.DKnight, pos(4, 4), new Set([\n                    pos(5, 6), pos(5, 2),\n                    pos(3, 6), pos(3, 2),\n                    pos(6, 5), pos(6, 3),\n                    pos(2, 5), pos(2, 3)\n                ])\n            ]];\n        t.forEach(([d2, _p, expected]) => {\n            let got = dir.ddir2(d2, _p);\n            util_1.nac(`got ${v.str(got)} != expected ${v.str(expected)}`, util2_1.deepeq(got, expected));\n        });\n    });\n    util_1.it('routes for direction', () => {\n        let t = [\n            [0, 1, [1]],\n            [1, 1, [1, 2, 3, 4, 5, 6, 7, 8]],\n            [-1, 4, [4, 3, 2, 1]]\n        ];\n        t.forEach(([d0, _d, expected]) => {\n            let got = dir.rroute0(d0, _d);\n            util_1.nac(`got ${v.str(got)} !== expected ${v.str(expected)}`, util2_1.deepeq(got, expected));\n        });\n    });\n    // [0,1] [1,6]\n    // [1]\n    // [6,7,8]\n    // [1,6] [1,7] [1,8]\n    // [2,1] [1,6]\n    // [1,3,5,7]\n    // [6,7,8]\n    // [1,6] [3,7] [5,8]\n    util_1.it('routes for position', () => {\n        let t = [\n            [[0, 0], pos(1, 1), [pos(1, 1)]],\n            [[0, 1], pos(1, 6), [pos(1, 6), pos(1, 7), pos(1, 8)]],\n            [[1, 1], pos(4, 5), [pos(4, 5), pos(5, 6), pos(6, 7), pos(7, 8)]],\n            [[-2, 1], pos(4, 5), [pos(4, 5), pos(2, 6)]]\n        ];\n        t.forEach(([d1, _p, expected]) => {\n            let got = dir.rroute1(d1, _p);\n            util_1.nac(`got ${v.str(got)} !== expected ${v.str(expected)}`, util2_1.deepeq(got, expected));\n        });\n    });\n}\nexports.default = default_1;\n\n\n//# sourceURL=webpack://cchheess/./src/test/direction.ts?");

/***/ }),

/***/ "./src/test/fen.ts":
/*!*************************!*\
  !*** ./src/test/fen.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/test/util.ts\");\nconst db2 = __importStar(__webpack_require__(/*! ../db2 */ \"./src/db2.ts\"));\nconst f = __importStar(__webpack_require__(/*! ../fen */ \"./src/fen.ts\"));\nfunction default_1() {\n    let fen = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1';\n    let situation = f.situation(fen);\n    let d1 = db2.poss.nget(4, 1);\n    let wQ = { role: 'q', color: 'w' };\n    let wP = { role: 'p', color: 'w' };\n    util_1.it('fen', () => {\n        let d1Q = situation.board.get(d1);\n        util_1.qed('d1 Q', d1Q, wQ);\n        util_1.qed('same fen', f.fen(situation), fen);\n    });\n}\nexports.default = default_1;\n\n\n//# sourceURL=webpack://cchheess/./src/test/fen.ts?");

/***/ }),

/***/ "./src/test/history.ts":
/*!*****************************!*\
  !*** ./src/test/history.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/test/util.ts\");\nconst san_1 = __webpack_require__(/*! ../san */ \"./src/san.ts\");\nconst f = __importStar(__webpack_require__(/*! ../fen */ \"./src/fen.ts\"));\nconst h = __importStar(__webpack_require__(/*! ../history */ \"./src/history.ts\"));\nconst m = __importStar(__webpack_require__(/*! ../move */ \"./src/move.ts\"));\nfunction default_1() {\n    let situation = f.situation('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1');\n    let e4 = san_1.str2meta('e4');\n    let e5 = san_1.str2meta('e5');\n    let a6 = san_1.str2meta('a6');\n    let wP = { role: 'p', color: 'w' };\n    util_1.it('history', () => {\n        let first = h.first(situation, e4);\n        if (!first) {\n            return '! 1. e4';\n        }\n        util_1.qed('1 move', first.length, 1);\n        util_1.qed('1. e4', f.fen(m.situationAfter(first[0])), 'rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq - 0 1');\n        let twoA6 = h.add(first, a6);\n        if (!twoA6) {\n            return '! 2. a6';\n        }\n        util_1.qed('2 move', twoA6.length, 2);\n        util_1.qed('1. e4 a6', f.fen(m.situationAfter(twoA6[1])), 'rnbqkbnr/1ppppppp/p7/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 1');\n        let threeE5 = h.add(twoA6, e5);\n        if (!threeE5) {\n            return '! 2. a6';\n        }\n        util_1.qed('2 move', threeE5.length, 3);\n        util_1.qed('1. e4 a6 2. e5', f.fen(m.situationAfter(threeE5[2])), 'rnbqkbnr/1ppppppp/p7/4P3/8/8/PPPP1PPP/RNBQKBNR b KQkq - 0 1');\n    });\n    util_1.it.only('makes moves', () => {\n        let seed = undefined;\n        let hfinal = 'e4 a5 Nf3 Nf6 g3 g6 e5 a4'.split(' ')\n            .map(_ => san_1.str2meta(_)).reduce((acc, _) => {\n            if (!acc) {\n                return h.first(situation, _);\n            }\n            else {\n                return h.add(acc, _);\n            }\n        }, seed);\n        if (!hfinal) {\n            return '! no history';\n        }\n        util_1.qed('8 moves', hfinal.length, 8);\n        util_1.qed('correct ', f.fen(m.situationAfter(hfinal[7])), 'rnbqkb1r/1ppppp1p/5np1/4P3/p7/5NP1/PPPP1P1P/RNBQKB1R w KQkq - 0 1');\n    });\n}\nexports.default = default_1;\n\n\n//# sourceURL=webpack://cchheess/./src/test/history.ts?");

/***/ }),

/***/ "./src/test/index.ts":
/*!***************************!*\
  !*** ./src/test/index.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/test/util.ts\");\nconst makes_1 = __importDefault(__webpack_require__(/*! ./makes */ \"./src/test/makes.ts\"));\nconst core_1 = __importDefault(__webpack_require__(/*! ./core */ \"./src/test/core.ts\"));\nconst _util_1 = __importDefault(__webpack_require__(/*! ./_util */ \"./src/test/_util.ts\"));\nconst line_1 = __importDefault(__webpack_require__(/*! ./line */ \"./src/test/line.ts\"));\nconst actor_1 = __importDefault(__webpack_require__(/*! ./actor */ \"./src/test/actor.ts\"));\nconst routes_1 = __importDefault(__webpack_require__(/*! ./routes */ \"./src/test/routes.ts\"));\nconst calcutes_1 = __importDefault(__webpack_require__(/*! ./calcutes */ \"./src/test/calcutes.ts\"));\nconst direction_1 = __importDefault(__webpack_require__(/*! ./direction */ \"./src/test/direction.ts\"));\nconst history_1 = __importDefault(__webpack_require__(/*! ./history */ \"./src/test/history.ts\"));\nconst fen_1 = __importDefault(__webpack_require__(/*! ./fen */ \"./src/test/fen.ts\"));\nconst move_1 = __importDefault(__webpack_require__(/*! ./move */ \"./src/test/move.ts\"));\nfunction default_1() {\n    util_1.tMo(makes_1.default);\n    util_1.tMo(direction_1.default);\n    util_1.tMo(_util_1.default);\n    util_1.tMo(core_1.default);\n    util_1.tMo(line_1.default);\n    util_1.tMo(calcutes_1.default);\n    util_1.tMo(routes_1.default);\n    util_1.tMo(move_1.default);\n    util_1.tMo(actor_1.default);\n    util_1.tMo.only(history_1.default);\n    util_1.tMo(fen_1.default);\n    util_1.run();\n}\nexports.default = default_1;\n\n\n//# sourceURL=webpack://cchheess/./src/test/index.ts?");

/***/ }),

/***/ "./src/test/line.ts":
/*!**************************!*\
  !*** ./src/test/line.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/test/util.ts\");\nconst l = __importStar(__webpack_require__(/*! ../line */ \"./src/line.ts\"));\nfunction default_1() {\n    let ifen = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1';\n    util_1.it('makes ply', () => {\n        let res = l.fen('line0', 'fen');\n        util_1.nacc('invalid input', res, l.LineError.InvalidInput);\n        res = l.fen('line0', ifen);\n        util_1.nac('good fen', !res);\n        let pres = l.ply('line0', 1);\n        util_1.nacc('no move ply 1', pres, l.LineError.NoMoveFound);\n        pres = l.ply('line0', 0);\n        util_1.nacc('move ply 0', pres, ifen);\n        let apres = l.aply('line0', 0, 'san');\n        util_1.nacc('invalid input', apres, l.LineError.InvalidInput);\n        apres = l.aply('line0', 0, 'Nf6');\n        util_1.nacc('already set', apres, l.LineError.AlreadySet);\n        apres = l.aply('line0', 2, 'Nf6');\n        util_1.nacc('fen line no move found 2', apres, l.LineError.NoMoveFound);\n        apres = l.aply('line0', 1, 'e4');\n        util_1.nac('set san 1 ok', !apres);\n        apres = l.aply('line0', 1, 'Nf6');\n        util_1.nacc('already set ply 1', apres, l.LineError.AlreadySet);\n        apres = l.aply('line0', 2, 'e5');\n        util_1.nac('set san 2 ok', !apres);\n        apres = l.aply('line0', 2, 'e5');\n        util_1.nacc('already set ply 2', apres, l.LineError.AlreadySet);\n        apres = l.aply('line0', 3, 'e7');\n        util_1.nacc('cant make move e7', apres, l.LineError.CantMakeMove);\n    });\n    util_1.it('can make move', () => {\n        let res = l.fen('line3', ifen);\n        let apres = l.aply('line3', 1, 'e4');\n        util_1.qed('set san 1 ok', apres, undefined);\n        apres = l.aply('line3', 2, 'e5');\n        util_1.qed('set san 2 ok', apres, undefined);\n    });\n    util_1.it('cant make invalid moves', () => {\n        l.fen('line1', ifen);\n        util_1.qed('1. e6', l.aply('line1', 1, 'e6'), l.LineError.CantMakeMove);\n        util_1.qed('1. e4', l.aply('line1', 1, 'e4'), undefined);\n    });\n    util_1.it.only('plays a game', () => {\n        l.fen('lineg', ifen);\n        'e4 e5 g4 g6'.split(' ')\n            .forEach((_, i) => {\n            util_1.qed(`${i + 1}. ${_}`, l.aply('lineg', i + 1, _), undefined);\n        });\n    });\n}\nexports.default = default_1;\n\n\n//# sourceURL=webpack://cchheess/./src/test/line.ts?");

/***/ }),

/***/ "./src/test/makes.ts":
/*!***************************!*\
  !*** ./src/test/makes.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/test/util.ts\");\nconst makes_1 = __webpack_require__(/*! ../makes */ \"./src/makes.ts\");\nvar ApiError;\n(function (ApiError) {\n    ApiError[\"BelowZero\"] = \"bz\";\n    ApiError[\"IsZero\"] = \"iz\";\n    ApiError[\"AboveZero\"] = \"az\";\n    ApiError[\"TooLong\"] = \"tl\";\n})(ApiError || (ApiError = {}));\nfunction isApiError(_) {\n    return Object.values(ApiError).includes(_);\n}\nfunction test() {\n    util_1.it('makes', () => {\n        let api = {\n            makeString(_) {\n                if (_ === 0) {\n                    return ApiError.IsZero;\n                }\n                else {\n                    return \"api\" + _;\n                }\n            },\n            addString(pre, _, o) {\n                if (pre.length > 5) {\n                    return ApiError.TooLong;\n                }\n                else {\n                    return pre + _;\n                }\n            },\n            getString(pre, _) {\n                return pre + _;\n            }\n        };\n        let m = new makes_1.Makes();\n        let buildNoZero = m.setter0(api.makeString, isApiError);\n        let addNumberUpto5 = m.setter1(api.addString, isApiError);\n        let returnValueAndNumber = m.getter1(api.getString);\n        util_1.nacc('build zero', buildNoZero('line3', 0), ApiError.IsZero);\n        buildNoZero('line3', 3);\n        util_1.nacc('make by value', returnValueAndNumber('line3', 9), 'api39');\n        util_1.nacc('make by value', buildNoZero('line3', 2), 'already set');\n        buildNoZero('line2', 4);\n        util_1.nacc('make by value', returnValueAndNumber('line2', 9), 'api49');\n        util_1.nacc('no line set', addNumberUpto5('line10', 4, 0), 'not set');\n        addNumberUpto5('line3', 4, 0);\n        util_1.nacc('yes line set', returnValueAndNumber('line3', 8), 'api348');\n        addNumberUpto5('line3', 5, 0);\n        util_1.nacc('too long', addNumberUpto5('line3', 4, 0), 'tl');\n        util_1.nacc('retvalnum', returnValueAndNumber('line3', 8), 'api3458');\n    });\n}\nexports.default = test;\n;\n\n\n//# sourceURL=webpack://cchheess/./src/test/makes.ts?");

/***/ }),

/***/ "./src/test/move.ts":
/*!**************************!*\
  !*** ./src/test/move.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/test/util.ts\");\nconst san_1 = __webpack_require__(/*! ../san */ \"./src/san.ts\");\nconst f = __importStar(__webpack_require__(/*! ../fen */ \"./src/fen.ts\"));\nconst m = __importStar(__webpack_require__(/*! ../move */ \"./src/move.ts\"));\nfunction default_1() {\n    let situation = f.situation('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1');\n    let e4 = san_1.str2meta('e4');\n    let wP = { role: 'p', color: 'w' };\n    util_1.it('actors', () => {\n        let oneE4 = m.get(situation, e4);\n        if (!oneE4) {\n            return '! 1. e4';\n        }\n        util_1.qed('1. e4', oneE4.piece, wP);\n        util_1.qed(\"b's turn\", m.situationAfter(oneE4).turn, \"b\");\n    });\n}\nexports.default = default_1;\n\n\n//# sourceURL=webpack://cchheess/./src/test/move.ts?");

/***/ }),

/***/ "./src/test/routes.ts":
/*!****************************!*\
  !*** ./src/test/routes.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/test/util.ts\");\nconst p = __importStar(__webpack_require__(/*! ../pos */ \"./src/pos.ts\"));\nconst dt = __importStar(__webpack_require__(/*! ../dtypes */ \"./src/dtypes.ts\"));\nconst db2 = __importStar(__webpack_require__(/*! ../db2 */ \"./src/db2.ts\"));\nconst dir = __importStar(__webpack_require__(/*! ../direction */ \"./src/direction.ts\"));\nfunction default_1() {\n    let a1 = db2.poss.nget(1, 1);\n    let d4 = db2.poss.nget(4, 4);\n    util_1.it('gets route0', () => {\n        let r0dir = dir.rroute0(1, 7);\n        util_1.qed('r0 -1 1', r0dir, [7, 8]);\n        r0dir = dir.rroute0(-1, 2);\n        util_1.qed('r0 -1 1', r0dir, [2, 1]);\n    });\n    util_1.it('gets route1', () => {\n        let res = dir.rroute1([3, 3], a1);\n        util_1.qed('d [1 1] a1', res, [\n            [1, 1],\n            [4, 4],\n            [7, 7]\n        ]);\n        res = dir.rroute1([-1, 3], a1);\n        util_1.qed('d [-1 3] a1', res, [\n            [1, 1],\n        ]);\n        let resflat = dir.rrouteflat1(new Set([[-1, 3]]), a1);\n        util_1.qed('d [-1 3] a1', [...resflat], []);\n    });\n    util_1.it('route0 d4', () => {\n        let res = dir.rroute2(dt.DKnight, d4);\n        // console.log(res);\n    });\n    util_1.it('gets route2', () => {\n        let res = dir.rrouteflat1(dt.DKnight, d4);\n        util_1.qed('N@d4', [...res].map(p.dopKey), [\n            'f3', 'f5', 'b3', 'b5', 'c2', 'c6', 'e2', 'e6'\n        ]);\n    });\n}\nexports.default = default_1;\n\n\n//# sourceURL=webpack://cchheess/./src/test/routes.ts?");

/***/ }),

/***/ "./src/test/util.ts":
/*!**************************!*\
  !*** ./src/test/util.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.qed = exports.nac = exports.nacc = exports.cry = exports.jss = exports.it = exports.runtests = exports.tMo = exports.run = void 0;\nconst util2_1 = __webpack_require__(/*! ./util2 */ \"./src/test/util2.ts\");\nfunction testFailed(t) {\n    console.log(`❌ ${t.msg} ${t.fail}`);\n}\nfunction testThrowed(t) {\n    console.log(`💀 ${t.msg} ${t.err}`);\n}\nfunction testBegin(t) {\n    console.log(`${t.msg}`);\n}\nlet tmos = [], onlytmos = [];\nlet onlyset = [];\nlet stset = [];\nfunction run() {\n    let _tmos = onlytmos.length > 0 ? onlytmos : tmos;\n    _tmos.forEach(_ => _());\n    runtests();\n}\nexports.run = run;\nexports.tMo = (() => {\n    let res = (fn) => {\n        tmos.push(fn);\n    };\n    res.only = (fn) => {\n        onlytmos.push(fn);\n    };\n    return res;\n})();\nfunction runtests() {\n    let errs = [];\n    let i = 0;\n    let testOnly = onlyset.length > 0 ? onlyset : stset;\n    testOnly.forEach(_ => {\n        try {\n            i++;\n            testBegin(_);\n            let msg = _.fn();\n            if (msg) {\n                _.fail = msg;\n            }\n        }\n        catch (e) {\n            _.err = e;\n        }\n    });\n    testOnly\n        .filter(_ => !!_.fail)\n        .forEach(testFailed);\n    testOnly\n        .filter(_ => !!_.err)\n        .forEach(testThrowed);\n    console.log(`done ${i}`);\n}\nexports.runtests = runtests;\nfunction it(msg, fn) {\n    let test = {\n        msg,\n        fn\n    };\n    stset.push(test);\n}\nexports.it = it;\nit.only = (msg, fn) => {\n    let test = {\n        msg,\n        fn\n    };\n    onlyset.push(test);\n};\nfunction jss(o, msg) {\n    console.log(JSON.stringify(o), msg);\n}\nexports.jss = jss;\nfunction cry(msg, o) {\n    let oS = JSON.stringify(o);\n    console.log(`❌ ${msg} ` + oS);\n}\nexports.cry = cry;\nfunction nacc(msg, a, b) {\n    if (a !== b) {\n        cry(`${msg} got`, a);\n    }\n}\nexports.nacc = nacc;\nfunction nac(msg, a) {\n    if (!a) {\n        cry(msg);\n    }\n}\nexports.nac = nac;\nfunction qed(msg, a, b) {\n    if (!util2_1.deepeq(a, b)) {\n        cry(`${msg} got`, a);\n    }\n}\nexports.qed = qed;\n\n\n//# sourceURL=webpack://cchheess/./src/test/util.ts?");

/***/ }),

/***/ "./src/test/util2.ts":
/*!***************************!*\
  !*** ./src/test/util2.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.arreq = exports.seteq = exports.deepeq = void 0;\nfunction deepeq(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n        return arreq(a, b);\n    }\n    else if (a instanceof Set && b instanceof Set) {\n        return seteq(a, b);\n    }\n    else if (typeof a === 'object' && typeof b === 'object') {\n        for (let key in a) {\n            if (!deepeq(a[key], b[key])) {\n                return false;\n            }\n        }\n        for (let key in b) {\n            if (!deepeq(a[key], b[key])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    else {\n        return a === b;\n    }\n}\nexports.deepeq = deepeq;\nfunction seteq(a, b) {\n    if (a.size !== b.size) {\n        return false;\n    }\n    for (let item of a) {\n        let found = false;\n        for (let item2 of b) {\n            if (deepeq(item, item2)) {\n                found = true;\n                break;\n            }\n        }\n        if (!found) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.seteq = seteq;\nfunction arreq(a, b) {\n    if (a.length !== b.length) {\n        return false;\n    }\n    for (let i in a) {\n        if (!b.some(_ => deepeq(_, a[i]))) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.arreq = arreq;\n\n\n//# sourceURL=webpack://cchheess/./src/test/util2.ts?");

/***/ }),

/***/ "./src/types.ts":
/*!**********************!*\
  !*** ./src/types.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isMoveLine = exports.isFenLine = void 0;\nfunction isFenLine(_) {\n    return !(isMoveLine(_));\n}\nexports.isFenLine = isFenLine;\nfunction isMoveLine(_) {\n    return (_.parent !== undefined);\n}\nexports.isMoveLine = isMoveLine;\n\n\n//# sourceURL=webpack://cchheess/./src/types.ts?");

/***/ }),

/***/ "./src/util.ts":
/*!*********************!*\
  !*** ./src/util.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.seqable = exports.seqMaybe = void 0;\nfunction seqMaybe(a, fn, ...args) {\n    return a ? fn(a, ...args) : undefined;\n}\nexports.seqMaybe = seqMaybe;\nconst seqable = (cb) => (x, ...args) => typeof x === \"undefined\" ? undefined : cb(x, ...args);\nexports.seqable = seqable;\n\n\n//# sourceURL=webpack://cchheess/./src/util.ts?");

/***/ }),

/***/ "./src/visual.ts":
/*!***********************!*\
  !*** ./src/visual.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.str = void 0;\nconst dir = __importStar(__webpack_require__(/*! ./direction */ \"./src/direction.ts\"));\nconst p = __importStar(__webpack_require__(/*! ./pos */ \"./src/pos.ts\"));\nconst fa = p.dopKey;\nfunction str(a) {\n    if (dir.isRoute0(a)) {\n        return '<R0 ' + a.map(_ => fa(_)).join(' ') + '>';\n    }\n    else if (dir.isRoute1(a)) {\n        return '<R1 ' + a.map(_ => str(_)).join(' ') + '>';\n    }\n    else if (a instanceof Set) {\n        return '{' + [...a].map(_ => fa(_)).join(' ') + '}';\n    }\n    else if (Array.isArray(a)) {\n        if (a.length === 0) {\n            return '[]';\n        }\n        else if (Array.isArray(a[0])) {\n        }\n        else\n            return '[' + a.map(_ => fa(_)).join(' ') + ']';\n    }\n    return 'unknown';\n}\nexports.str = str;\n\n\n//# sourceURL=webpack://cchheess/./src/visual.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/test/index.ts");
/******/ 	
/******/ })()
;